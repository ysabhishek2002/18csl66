Lex program 1 ------------

%{ 

    int vow_count=0; 

    int const_count =0; 
%} 

  
%% 
[aeiouAEIOU] {vow_count++;} 
[a-zA-Z] {const_count++;} 
%% 

int yywrap(){} 

int main() 
{ 

    printf("Enter the string of vowels and consonents:"); 

    yylex(); 

    printf("Number of vowels are:  %d\n", vow_count); 

    printf("Number of consonants are:  %d\n", const_count); 

    return 0; 
}


Lex program 2 --------------

/*lex code to count the number of lines,

    tabs and spaces used in the input*/
 
%{
#include<stdio.h>

int lc=0, sc=0, tc=0, ch=0; /Global variables/
%}
 
/Rule Section/
%%

\n lc++; //line counter

([ ])+ sc++; //space counter

\t tc++; //tab counter

. ch++;     //characters counter
%%
 

int main()
{

    // The function that starts the analysis

    yylex();

     

    printf("\nNo. of lines=%d", lc);  

    printf("\nNo. of spaces=%d", sc);

    printf("\nNo. of tabs=%d", tc);

    printf("\nNo. of other characters=%d", ch);

     
}

Lex program 4 ------------------

%{
#include<stdio.h>
int pc=0, sc=0;
%}
%%
“printf” { fprintf(yyout,”writef”); pc++;}
“scanf” { fprintf(yyout,”readf”); sc++;}
%%
int yywrap()
{
return 1;
}
main(int argc, char *argv[])
{
 if(argc!=2)
 {
 printf(“Usage: <./a.out> <sourcefile> <destn file>\n”);
 exit(0);
 }
 yyin=fopen(argv[1],”r”);
 yyout=fopen(argv[2],”w”);
 yylex();
 printf(“No of printf statements = %d\n No of scanf
statements=%d\n”, pc, sc);
}


Lex program 5 -------------------------

Source Code-> 
%{
int flag=0;
%}
%%
(""[aA][nN][dD]"")|(""[oO][rR]"")|(""[bB][uU][tT]"") {flag=1;}
%%
int main()
{
printf("Enter the sentence\n");
yylex();
if(flag==1) 
printf("\nCompound sentence\n");
else 
printf("\nSimple sentence\n");
return 0;
}

OUTPUT:->
$lex p2b.l
$cc lex.yy.c –ll
$./a.out
Enter the sentence
I am Pooja
I am Pooja
[Ctrl-d]
Simple sentence
$./a.out
Enter the sentence
CSE or ISE
CSE or ISE
[Ctrl-d]
Compound sentence

YACC program 1 --------------

YACC PART:

CODE:(nif.y)

%{
#include<stdio.h>
#include<stdlib.h>
int count=0;
%}

%token IF RELOP S NUMBER ID NL

%%
stmt: if_stmt NL {printf("No. of nested if statements=%d\n",count);exit(0);}
;
if_stmt : IF'('cond')''{'if_stmt'}' {count++;}
          |S
;
cond: x RELOP x 
;
x:ID | NUMBER
;
%%

int yyerror(char *msg)
{
printf("the statement is invalid\n");
exit(0);
}

main()
{
printf("enter the statement\n");
yyparse();
}

LEX PART:

CODE:(nif.l)

%{
#include "y.tab.h"
%}

%%
"if" {return IF;}
[sS][0-9]* {return S;}
"<"|">"|"=="|"<="|">="|"!=" {return RELOP;}
[0-9]+ {return NUMBER;}
[a-z][a-zA-Z0-9_]* {return ID;}
\n {return NL;}
. {return yytext[0];}
%%

OUTPUT :

 yacc -d nif.y
lex nif.l
cc y.tab.c lex.yy.c -ly -ll
./a.out
enter the statement
if(a<b){s}    
No. of nested if statements=1

 ./a.out
enter the statement
if(a>b){if(a>b){s}}
No. of nested if statements=2


YACC program 2 ---------------

YACC PART:

CODE:(sarith.y)

%{
#include<stdio.h>
#include<stdlib.h>
%}

%token NUMBER ID NL
%left '+' '-'
%left '*' '/'

%%
stmt: exp NL {printf("valid expression\n"); exit(0);}
;
exp: exp '+' exp | exp '-' exp | exp '*' exp | exp '/' exp | '(' exp ')' | ID | NUMBER 
;
%%

int yyerror(char *msg)
{
 printf("Invalid expression\n");
 exit(0);
}

main()
{
 printf("enter the expression: \n");
 yyparse();
}

LEX PART:

CODE:(sarith.l)

%{
#include"y.tab.h"
%}

%%
[0-9]+ {return NUMBER;}
[a-zA-Z][a-zA-Z0-9_]* {return ID;}
\n {return NL;}
. {return yytext[0];}
%%


OUTPUT :

yacc -d sarith.y
lex sarith.l
cc y.tab.c lex.yy.c -ly -ll
./a.out
enter the expression: 
a+10
valid expression
yacc -d sarith.y
lex sarith.l
cc y.tab.c lex.yy.c -ly -ll
./a.out
enter the expression: 
10-
Invalid expression

YACC program 3 ----------------

LEX part:
%{

    #include "y.tab.h"

%}

%%

[a-zA-Z_][a-zA-Z_0-9]* return letter;

[0-9]                       return digit;

.                      return yytext[0];

\n                     return 0;

%%

int yywrap()

{

return 1;

}

YACC PART:

%{

    #include<stdio.h>

    int valid=1;

%}

%token digit letter

%%

start : letter s

s :     letter s

      | digit s

      |

      ;

%%

int yyerror()

{

    printf("\nIts not a identifier!\n");

    valid=0;

    return 0;

}

int main()

{

    printf("\nEnter a name to tested for identifier ");

    yyparse();

    if(valid)

    {

        printf("\nIt is a identifier!\n");

    }

}
